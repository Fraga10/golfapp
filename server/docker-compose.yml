version: '3.8'
services:
  server:
    build:
      context: .
      dockerfile: Dockerfile
    # Load environment variables from `server/.env` (create from `.env.example`)
    env_file:
      - .env
    environment:
      # Keep an explicit PORT fallback; DB settings must come from .env
      PORT: ${PORT:-8080}
    ports:
      # Host port 8080 -> container port 18080 (server reads PORT from server/.env)
      - "8080:18080"
